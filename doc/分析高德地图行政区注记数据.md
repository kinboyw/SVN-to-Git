# 分析高德地图行政区注记数据

## 制作分析样本

- [高德地图开放平台注册开发者账号](https://lbs.amap.com/getting-started/mapstyle)  
- 创建应用，获得key `e5b03d608f3def347b76925405c4c938` 
- 创建自定义图层，从标准图层中去除无关数据，保留 省级以下 `兴趣点标注`
- 发布自定义图层，获得样式ID `4d53191f1e5acfdd33640f71fd345973`
- 新建地图展示环境，https://kinboy.wang/amap，代码如下：

```html
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>自定义地图</title>
    <link rel="stylesheet" href="https://cache.amap.com/lbs/static/main1119.css"/>
   <script src="https://webapi.amap.com/maps?v=1.4.11&key=e5b03d608f3def347b76925405c4c938"></script>
   <!--<script type="text/javascript" src="https://cache.amap.com/lbs/static/addToolbar.js"></script>-->
</head>
<body>
<div id="container"></div>

<script>
    var map = new AMap.Map('container', {
        resizeEnable: true,
        zoom:11,
        center: [114.298572, 30.584355],
        mapStyle:'amap://styles/4d53191f1e5acfdd33640f71fd345973'
        //前往创建自定义地图样式：https://lbs.amap.com/dev/mapstyle/index
    });

</script>
</body>
</html>

```



## 分析过程记录

![1545377550914](E:\Codes\CityGit\SVN-To-Git\doc\分析高德地图行政区注记数据\1545377550914.png)

![1545378061320](E:\Codes\CityGit\SVN-To-Git\doc\分析高德地图行政区注记数据\1545378061320.png)

JS加载使用了动态注入的方式，在第一次请求时，将压缩混淆的 js 字符串保存在浏览器的 `localStorage` 中，然后用 `eval()` 函数将 js 字符串注入到环境中。

动态注入的 js 会被丢到 Chrome Debugger 的 vm 中，难于调试